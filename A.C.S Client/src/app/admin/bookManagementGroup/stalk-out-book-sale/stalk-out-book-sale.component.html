<div class="container-fluid">
    <div class="row dashboard-container my-2">
        <div class="col-sm-12 py-3 mb-2 bg-light">
            <div class="display-6 px-3">Subject</div>
            <nav aria-label="breadcrumb ">
                <ol class="breadcrumb px-3">
                    <li class="breadcrumb-item">Home</li>
                    <li class="breadcrumb-item active" aria-current="page">Subject</li>
                </ol>
            </nav>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">

            <div class="col-lg-4" style="padding-top: 10px;">
                <div class="input-group"><span class="input-group-addon"><i class="fa fa-list-ul"></i></span><input
                        list="admission_nos" class="form-control" type="text" id="admission_id"
                        placeholder="Enter Admission Number" list="browsers" [(ngModel)]="admissionNO"> <span
                        class="input-group-btn">
                        <button
                            style="min-width: 72px; height: 40px; background-color: #18a689;; border: none; color:white; border-radius: 3px;"
                            (click)="getAdmisssonId()">Search
                        </button> </span>
                </div>
                <datalist id="admission_nos" id="browsers">
                    <option value="01"></option>
                    <option value="02"></option>
                    <option value="03"></option>
                    <option value="04"></option>
                    <option value="05"></option>
                    <option value="06"></option>
                    <option value="07"></option>
                    <option value="08"></option>
                    <option value="09"></option>
                    <option value="10"></option>
                </datalist>
            </div>
        </div>
        <div *ngIf="showContent" [formGroup]="PatchValueForm">
            <small
                style="margin-left: 46rem; background-color: #f8ac59 !important; color: white; border-radius:25%;">student
                name</small>

            <input type="text" class="form-control" style="width: 300px; margin-left: 46rem;margin-top: -6px;"
                formControlName="name">



            <div class="form-row">
                <div class="form-group">
                    <label for="slno"
                        style="background-color:#f8ac59; color: white; width: 40px; border-radius: 25%;">SL
                        No</label>
                    <input type="text" id="slno" readonly formControlName="id">
                </div>
                <div class="form-group">
                    <label for="date"
                        style="background-color:#f8ac59; color: white; width: 40px; border-radius: 25%;">DATE</label>
                    <input type="date" formControlName="fee_date_nov">
                </div>
            </div>
        </div>

        <div *ngIf="showContent">

            <table>
                <thead>
                    <tr>
                        <th>BOOK CODE</th>
                        <th>QTY</th>
                        <th>Rate</th>
                        <th>AMOUNT</th>
                        <th>STATUS</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of obj;let idx= index">
                        <td>
                            <div class="custom-select-wrapper my-3 d-flex position-relative" >
                                <input type="text" [(ngModel)]="item.bookCode" placeholder="Select Book Code" readonly
                                    (click)="item.dropdown=!item.dropdown"/>

                                <div class="dropdown" *ngIf="item.dropdown">
                                    <input type="search" [(ngModel)]="searchTerm" placeholder="Search"
                                        (input)="filterOptions()" />
                                        <button type="submit" class="btn btn-primary w-100" id="btn_search">Search
                                        </button>
                                    <ul>
                                        <li *ngFor="let option of filteredOptions" (click)="selectOption(option,item)">
                                            {{ option }}
                                        </li>
                                    </ul>
                                </div>
                              
                            </div>


                        </td>
                        <td><input type="number" class="form-control" placeholder="Quantity"
                                [(ngModel)]="item.quantity"></td>
                        <td><input type="number" class="form-control" placeholder="Rate" [(ngModel)]="item.rate"></td>
                        <td><input type="number" class="form-control" placeholder="Total" disabled=""  [value]="item.quantity*item.rate">
                        </td>
                        <td *ngIf="!item.isNewAdded"> <button class="add-button fw-bold"
                                (click)="inrementMultipleFields()">+</button></td>
                        <td *ngIf="item.isNewAdded"><button class="add-button fw-bold"
                                (click)="decreaseMultipleFields(idx)">-</button></td>
                    </tr>
                </tbody>
            </table>

            <button class="save-button" (click)="getBookDetails()">Save</button>
        </div>
    </div>
</div>





<div id="myModal" class="modal" *ngIf="showModal">

    <!-- Modal content -->
    <div class="modal-content">
        <span class="close" (click)="showModal = false">&times;</span>
        <h4>Data Not Found !</h4>
        <button class="btn btn-danger w-25" (click)="showModal = false">close</button>
    </div>

</div>